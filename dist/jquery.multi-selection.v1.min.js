!function(e){e.fn.jQueryMultiSelection=function(t){var n=e.extend({btnMoveAllRight:".btn-move-all-right",btnMoveSelectedRight:".btn-move-selected-right",btnMoveAllLeft:".btn-move-all-left",btnMoveSelectedLeft:".btn-move-selected-left",btnDelete:".btn-delete",btnMoveUp:".btn-up",btnMoveDown:".btn-down",htmlMoveAllRight:"&rsaquo;&rsaquo;",htmlMoveSelectedRight:"&rsaquo;",htmlMoveAllLeft:"&lsaquo;&lsaquo;",htmlMoveSelectedLeft:"&lsaquo;",htmlDelete:"Delete",htmlMoveUp:"Up",htmlMoveDown:"Down"},t);function l(t,n,l){var o=e(t).parent().next().find("select"),i=e(t).parent().prev().find("select"),c=l?i:o,h=l?o:i;(n?c.find("option"):c.find("option:selected")).each(function(){e(this).remove(),h.append(e(this))})}jQueryMultiSelection={init:function(){e(n.btnMoveAllRight).html(n.htmlMoveAllRight),e(n.btnMoveSelectedRight).html(n.htmlMoveSelectedRight),e(n.btnMoveAllLeft).html(n.htmlMoveAllLeft),e(n.btnMoveSelectedLeft).html(n.htmlMoveSelectedLeft),e(n.btnDelete).html(n.htmlDelete),e(n.btnMoveUp).html(n.htmlMoveUp),e(n.btnMoveDown).html(n.htmlMoveDown),e(n.btnDelete).click(function(){e(this).parent().prev().find("select option:selected").each(function(){e(this).remove()})}),e(n.btnMoveUp).click(function(){e(this).parent().prev().find("select option:selected").each(function(){var t=e(this).parent().find("option"),n=t.index(this)-1;n>-1&&(t.eq(n).before("<option value='"+e(this).val()+"' selected='selected'>"+e(this).text()+"</option>"),e(this).remove()),console.log(e(this))})}),e(n.btnMoveDown).click(function(){e(this).parent().prev().find("select option:selected").each(function(){var t=e(this).parent().find("option"),n=t.index(this)+1;n<t.size()&&(t.eq(n).after("<option value='"+e(this).val()+"' selected='selected'>"+e(this).text()+"</option>"),e(this).remove())})}),e(n.btnMoveAllRight).click(function(){l(this,!0,!0)}),e(n.btnMoveSelectedRight).click(function(){l(this,!1,!0)}),e(n.btnMoveAllLeft).click(function(){l(this,!0,!1)}),e(n.btnMoveSelectedLeft).click(function(){l(this,!1,!1)})}},jQueryMultiSelection.init()}}(jQuery);